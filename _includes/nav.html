<nav class="nav">
    <ul>
        {% assign links = site.data.navigation %}
        {% assign count = 0 %}

        {% for link in links %}

            {% assign isCurrentPage = nil %}
            

            {% if page.url contains link.url %}
                {% assign isCurrentPage = 'current_menu_item' %}
            {% endif %}            

            {% if link.sublinks %}                

                <li class="{{ isCurrentPage }}">
                    <button class="menu_item" onclick="changeDisplay('dropdown_{{ count }}', 'block')"><strong>{{ link.title }}</strong></button>
                    <ul id="dropdown_{{ count }}" class="dropdown">
                        {% for sublink in link.sublinks %}
                            <li class="menu_sub_item">
                                <a href="{{ site.baseurl }}{{ sublink.url }}">{{ sublink.title }}</a>
                            </li>
                        {% endfor %}
                    </ul>
                </li>

            {% else %}

                <li class="{{ isCurrentPage }}">
                    <a class="menu_item" href="{{ site.baseurl }}{{ link.url }}"><strong>{{ link.title }}</strong></strong></a>
                </li>
                
            {% endif %}

            {% assign count = count | plus:1 %}

        {% endfor %}
    </ul>
</nav>